<!-- header -->
<div class="wrapper bg-light lter b-b">
  <div class="btn-group pull-right">
    <button type="button" class="btn btn-sm btn-bg btn-default"
            data-ng-click="previousPage()"
            data-ng-disabled="page<=1"
    ><i class="fa fa-chevron-left"></i></button>
    <button type="button" class="btn btn-sm btn-bg btn-default"
            data-ng-click="nextPage()"
            data-ng-disabled="page*pageSize>=totalCount"
    ><i class="fa fa-chevron-right"></i></button>
  </div>
  <div class="btn-toolbar">
    <!--<div class="btn-group dropdown">
      <button class="btn btn-default btn-sm btn-bg dropdown-toggle" data-toggle="dropdown">
        <span class="dropdown-label">Filter</span>
        <span class="caret"></span>
      </button>
      <ul class="dropdown-menu text-left text-sm">
        <li><a ui-sref="loggedIn.modules.mail.list({fold:'unread'})">Unread</a></li>
        <li><a ui-sref="loggedIn.modules.mail.list({fold:'starred'})">Starred</a></li>
      </ul>
    </div>-->
    <div class="btn-group">
      <button class="btn btn-sm btn-bg btn-default" data-ng-click="refresh()"><i class="fa fa-refresh"></i></button>
    </div>
  </div>
</div>
<!-- / header -->

<!-- list -->
<ul class="list-group list-group-lg no-radius m-b-none m-t-n-xxs">
  <li ng-repeat="mail in mailList" ng-class="labelClass(mail.label) " class="list-group-item clearfix b-l-3x. {{ mail.state }}">
    <a ui-sref="loggedIn.modules.mail.detail({fold:fold,mailId:mail.id})" class="avatar thumb pull-left m-r">
      <img data-ng-src="{{ mail.avatar }}" data-err-src="assets/images/default-profile.png">
    </a>
    <div class="pull-right text-sm text-muted">
      <span class="hidden-xs">{{ mail.date | fromNow }}</span>
      <i class="fa fa-paperclip ng-hide m-l-sm" ng-show="{{ mail.attach }}"></i>
    </div>
    <div class="clear">
      <div><a ui-sref="loggedIn.modules.mail.detail({fold:fold,mailId:mail.id})" class="text-md">{{ mail.subject }}</a><!--<span class="label bg-light m-l-sm">{{mail.label}}</span>--></div>
      <div class="text-ellipsis m-t-xs" data-ng-bind-html="mail.content | safe_html | limitTo:100"></div>
    </div>
  </li>
</ul>
<!-- / list -->